"use strict";(self.webpackChunktech_task=self.webpackChunktech_task||[]).push([[991],{212:function(e,r,n){var a=n(1413),s=n(4925),t=(n(2791),n(3329)),i=["children","className"];r.Z=function(e){var r=e.children,n=e.className,c=(0,s.Z)(e,i);return(0,t.jsx)("button",(0,a.Z)((0,a.Z)({className:"bg-primary text-light-prime py-3 rounded-xl font-semibold hover:bg-secondary transition ease-in duration-150 ".concat(n)},c),{},{children:r}))}},6117:function(e,r,n){n.d(r,{Z:function(){return b}});var a=n(3433),s=n(2791),t=n(9434),i=n(3329),c=function(e){var r=e.children,n=e.className,a=void 0===n?"":n;return(0,i.jsx)("span",{className:"text-primary ".concat(a),children:r})},l=n(212),o=function(e){var r=e.children,n=e.className;return(0,i.jsx)("h3",{className:"text-base text-dark-100 font-medium ".concat(n),children:r})},d=function(e){var r=e.children;return(0,i.jsx)("span",{className:"text-tags text-dark-50 after:content-[''] after:block after:w-px after:h-[16px] after:bg-dark-10 after:mx-[6px] last:after:hidden flex items-center",children:r})};var u=n.p+"static/media/sprite.58d724df96799ce4f52b47595d3883ff.svg",x=function(e){var r=e.onClick;return(0,i.jsx)("button",{onClick:r,className:"transition duration-150 ease-in hover:scale-125 active:scale-100 flex justify-center items-center w-[24px] h-[24px] rounded-[50%] absolute top-4 right-4",children:(0,i.jsx)("svg",{className:"stroke-dark-100 w-[24px] h-[24px]",children:(0,i.jsx)("use",{href:u+"#close"})})})},p=function(e){var r=e.children,n=e.className;return(0,i.jsx)("div",{className:"flex flex-col gap-[8px] ".concat(n),children:r})},f=function(e){var r=e.children,n=e.className,a=void 0===n?"":n;return(0,i.jsx)("span",{className:"bg-light-semi text-dark-secondary text-xs leading-[18px] py-[7px] px-[14px] rounded-[35px] ".concat(a),children:r})},m=function(e){var r=e.data,n=e.onClick,s=r.id,t=r.img,u=r.make,m=r.model,h=r.year,j=r.rentalPrice,v=r.address,g=r.type,N=r.accessories,b=r.fuelConsumption,y=r.engineSize,k=r.description,Z=r.functionalities,w=r.rentalConditions,C=r.mileage,M=String(C)[0]+","+String(C).slice(1),L=null===v||void 0===v?void 0:v.split(",").slice(1);return(0,i.jsxs)("div",{className:"w-[541px] p-[40px] flex flex-col gap-y-[24px] absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] bg-light-prime rounded-3xl",children:[(0,i.jsx)(x,{onClick:n}),(0,i.jsx)("img",{src:t,alt:m,className:"rounded-[14px] h-[248px]"}),(0,i.jsxs)(p,{className:"mb-[14px]",children:[(0,i.jsxs)(o,{className:"text-[18px]",children:[u," ",m.length<8&&(0,i.jsx)("span",{className:"text-primary",children:m}),","," ",h]}),(0,i.jsxs)("div",{className:"flex flex-wrap w-[277px]",children:[null===L||void 0===L?void 0:L.map((function(e){return(0,i.jsx)(d,{children:e},e)})),(0,i.jsxs)(d,{children:["Id: ",s]}),(0,i.jsxs)(d,{children:["Year: ",h]}),(0,i.jsxs)(d,{children:["Type: ",g]}),(0,i.jsxs)(d,{children:["Fuel Consumption: ",b]}),(0,i.jsxs)(d,{children:["Engine Size: ",y]})]})]}),(0,i.jsx)("p",{children:k}),(0,i.jsxs)(p,{children:[(0,i.jsx)(o,{className:"text-sm",children:"Accessories and functionalities:"}),(0,i.jsx)("div",{className:"flex flex-wrap",children:[].concat((0,a.Z)(N),(0,a.Z)(Z)).map((function(e){return(0,i.jsx)(d,{children:e},e)}))})]}),(0,i.jsxs)(p,{className:"flex-wrap",children:[(0,i.jsx)(o,{className:"text-sm",children:"Rental Conditions:"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-[8px]",children:[w.split(/(?=[A-Z])/).map((function(e){return(0,i.jsx)(f,{children:e},e)})),(0,i.jsxs)(f,{className:"font-secondary",children:["Mileage:"," ",(0,i.jsx)(c,{className:"font-semibold",children:j})]}),(0,i.jsxs)(f,{className:"font-secondary",children:["Price:"," ",(0,i.jsx)(c,{className:"font-semibold",children:C&&M})]})]})]}),(0,i.jsx)(l.Z,{className:"w-[168px]",children:(0,i.jsx)("a",{href:"tel:+380730000000",children:"Rental car"})})]})},h=function(e){var r=e.isFavorite;return(0,i.jsx)("svg",{className:"fill-none stroke-light-prime w-[18px] h-[18px] hover:scale-125 transition ease-in duration-150 active:scale-100 ".concat(r?"fill-primary stroke-primary":null),children:(0,i.jsx)("use",{href:u+"#heart"})})},j=n(5196),v=n(9530),g=n(4970),N=function(e){var r=e.data,n=(0,t.I0)(),u=-1!==(0,t.v9)(g.Tc).findIndex((function(e){return e.id===r.id})),x=(0,s.useContext)(j.t),p=r.id,f=r.img,N=r.make,b=r.model,y=r.year,k=r.rentalPrice,Z=r.address,w=r.type,C=r.rentalCompany,M=[].concat((0,a.Z)(Z.split(",").splice(1)),[C,w,b,p]);return(0,i.jsxs)("div",{className:"w-[274px]",children:[(0,i.jsxs)("div",{className:"mb-7",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:f,alt:N,className:"h-cardImg rounded-[14px] mb-[14px]"}),(0,i.jsx)("button",{onClick:function(){n((0,v._p)(r))},type:"button",className:"absolute top-[14px] right-[14px]",children:(0,i.jsx)(h,{isFavorite:u})})]}),(0,i.jsxs)(o,{className:"flex justify-between mb-[8px]",children:[(0,i.jsxs)("div",{children:[N," ",b.length<8&&(0,i.jsx)(c,{children:b}),","," ",y]})," ",(0,i.jsx)("span",{children:k})]}),(0,i.jsx)("div",{className:"flex flex-wrap",children:M.map((function(e,r){return(0,i.jsx)(d,{children:e},r)}))})]}),(0,i.jsx)(l.Z,{onClick:function(){return x((0,i.jsx)(m,{data:r,onClick:function(){return x()}}))},className:"w-full",children:"Learn more"})]})},b=function(e){var r=e.error,n=e.isLoading,a=e.cards;return(0,i.jsxs)("div",{className:"flex gap-x-[29px] gap-y-[50px] w-container mx-auto flex-wrap",children:[n&&"Loading...",a&&a.map((function(e,r){return(0,i.jsx)(N,{data:e},r)})),r&&(0,i.jsxs)("div",{children:["Something went wrong! ",(0,i.jsx)("br",{})," error"]})]})}},3991:function(e,r,n){n.r(r),n.d(r,{default:function(){return I}});var a=n(1087),s=n(2791),t=n(9434),i=n(4970),c=n(1778),l=function(e){return e.root.error},o=function(e){return e.root.isLoading},d=n(3433),u=n(1413),x=n(9439),p=function(e,r){var n=e.filter((function(e){return e.mileage<Number(r.toMileage||"10000")&&e.mileage>Number(r.fromMileage||"0")}));return delete r.toMileage,delete r.fromMileage,n},f=function(e,r){var n=e.filter((function(e){return e.make===r.brand}));return delete r.brand,n},m=function(e,r){var n=e.filter((function(e){return Number(e.rentalPrice.slice(1))>=Number(r.price)}));return delete r.price,n},h=n(9530),j=n(1134),v=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Chrysler","Kia","Land"]'),g=n(4925),N=n(3329),b=["children","className","register"],y=function(e){var r=e.children,n=e.className,a=e.register,s=(0,g.Z)(e,b);return(0,N.jsx)("select",(0,u.Z)((0,u.Z)((0,u.Z)({},a),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] appearance-none bg-select bg-no-repeat ".concat(n)},s),{},{children:r}))},k=["className","register"],Z=function(e){var r=e.className,n=void 0===r?"":r,a=e.register,s=(0,g.Z)(e,k);return(0,N.jsx)("input",(0,u.Z)((0,u.Z)({},a),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] w-[160px] ".concat(n)},s))},w=function(e){var r=e.children,n=e.className,a=void 0===n?"":n;return(0,N.jsx)("label",{className:"flex flex-col gap-[8px] ".concat(a),children:r})},C=n(212),M=function(e){for(var r=e.setFilters,n=(0,j.cI)(),a=n.register,s=n.handleSubmit,t=[],i=10;i<500;i+=10)t.push(i);return(0,N.jsxs)("form",{className:"flex gap-[18px] items-end justify-center mb-[50px] mx-auto",children:[(0,N.jsxs)(w,{children:["Car brand",(0,N.jsxs)(y,{register:a("brand"),className:"w-[224px] bg-[180px]",children:[(0,N.jsx)("option",{value:"",children:"Enter the text"}),v.map((function(e){return(0,N.jsx)("option",{value:e,children:e},e)}))]})]}),(0,N.jsxs)(w,{children:["Price/ 1 hour",(0,N.jsxs)(y,{register:a("price"),className:"w-[125px] bg-[80px]",children:[(0,N.jsx)("option",{value:"",children:"To: "}),t.map((function(e){return(0,N.jsx)("option",{value:e,children:e},e)}))]})]}),(0,N.jsxs)(w,{className:"relative",children:["Car mileage / km",(0,N.jsxs)("div",{children:[(0,N.jsx)(Z,{className:"rounded-e-none",placeholder:"From: ",type:"number",pattern:"[0-9]*",register:a("fromMileage")}),(0,N.jsx)("span",{className:"after:absolute after:content-[''] after:inline-block after:w-[1px] after:h-[52px] after:bg-gray-20 after:bottom-[0px]"}),(0,N.jsx)(Z,{className:"rounded-s-none",placeholder:"To: ",type:"number",pattern:"[0-9]*",register:a("toMileage")})]})]}),(0,N.jsx)(C.Z,{onClick:s((function(e){return r(e)})),type:"button",className:"w-[136px] h-[48px]",children:"Search"})]})},L=n(6117),S=["children","className"],F=function(e){var r=e.children,n=e.className,a=void 0===n?"":n,s=(0,g.Z)(e,S);return(0,N.jsx)("button",(0,u.Z)((0,u.Z)({type:"button",className:"bg:none text-primary text-base underline font-medium active:text-secondary block mx-auto mt-[50px] ".concat(a)},s),{},{children:r}))},I=function(){var e=function(){var e=(0,t.I0)(),r=(0,t.v9)(i.mT),n=(0,t.v9)(l),a=(0,t.v9)(o),d=(0,t.v9)(i.Zp);return(0,s.useEffect)((function(){e((0,c.h)(d))}),[e,d]),{error:n,isLoading:a,cards:r}}(),r=e.error,n=e.isLoading,j=e.cards,v=function(){var e=(0,t.I0)();return{isNoMoreData:(0,t.v9)(i.A),onClick:function(){e((0,h.bh)())}}}(),g=v.onClick,b=v.isNoMoreData,y=function(e){var r=(0,s.useState)({}),n=(0,x.Z)(r,2),a=n[0],t=n[1],i=(0,u.Z)({},a),c=[];if(Object.values(a).every((function(e){return""===e})))return{data:c=e,filters:a,setFilters:t};for(var l in i)if(a[l]){var o,h,j;a.brand&&(o=c).push.apply(o,(0,d.Z)(f(e,i))),a.price&&(h=c).push.apply(h,(0,d.Z)(m(e,i))),(a.toMileage||a.fromMileage)&&(j=c).push.apply(j,(0,d.Z)(p(e,i)))}return{data:c.filter((function(e,r,n){return n.indexOf(e)===r})),filters:a,setFilters:t}}(j),k=y.data,Z=y.filters,w=y.setFilters;return(0,N.jsxs)("section",{className:"container page__section",children:[(0,N.jsx)(a.rU,{to:"/favorites",children:"To favorites"}),(0,N.jsx)(M,{filters:Z,setFilters:w}),(0,N.jsx)(L.Z,{error:r,isLoading:n,cards:k,onClick:g,isNoMoreData:b}),!b&&(0,N.jsx)(F,{onClick:g,className:"block mx-auto",children:"Load more"})]})}},4970:function(e,r,n){n.d(r,{A:function(){return i},Tc:function(){return s},Zp:function(){return t},mT:function(){return a}});var a=function(e){return e.cards.data},s=function(e){return e.cards.favorites},t=function(e){return e.cards.page},i=function(e){return e.cards.isNoMoreData}}}]);
//# sourceMappingURL=991.1a35d978.chunk.js.map