"use strict";(self.webpackChunktech_task=self.webpackChunktech_task||[]).push([[63],{212:function(e,n,r){var a=r(1413),t=r(4925),s=(r(2791),r(3329)),i=["children","className"];n.Z=function(e){var n=e.children,r=e.className,c=(0,t.Z)(e,i);return(0,s.jsx)("button",(0,a.Z)((0,a.Z)({className:"bg-primary text-light-prime py-3 rounded-xl font-semibold hover:bg-secondary transition ease-in duration-150 ".concat(r)},c),{},{children:n}))}},6117:function(e,n,r){r.d(n,{Z:function(){return b}});var a=r(3433),t=r(2791),s=r(9434),i=r(3329),c=function(e){var n=e.children,r=e.className,a=void 0===r?"":r;return(0,i.jsx)("span",{className:"text-primary ".concat(a),children:n})},l=r(212),o=function(e){var n=e.children,r=e.className;return(0,i.jsx)("h3",{className:"text-base text-dark-100 font-medium ".concat(r),children:n})},d=function(e){var n=e.children;return(0,i.jsx)("span",{className:"text-tags text-dark-50 after:content-[''] after:block after:w-px after:h-[16px] after:bg-dark-10 after:mx-[6px] last:after:hidden flex items-center",children:n})};var u=r.p+"static/media/sprite.58d724df96799ce4f52b47595d3883ff.svg",x=function(e){var n=e.onClick;return(0,i.jsx)("button",{onClick:n,className:"transition duration-150 ease-in hover:scale-125 active:scale-100 flex justify-center items-center w-[24px] h-[24px] rounded-[50%] absolute top-4 right-4",children:(0,i.jsx)("svg",{className:"stroke-dark-100 w-[24px] h-[24px]",children:(0,i.jsx)("use",{href:u+"#close"})})})},f=function(e){var n=e.children,r=e.className;return(0,i.jsx)("div",{className:"flex flex-col gap-[8px] ".concat(r),children:n})},p=function(e){var n=e.children,r=e.className,a=void 0===r?"":r;return(0,i.jsx)("span",{className:"bg-light-semi text-dark-secondary text-xs leading-[18px] py-[7px] px-[14px] rounded-[35px] ".concat(a),children:n})},m=function(e){var n=e.data,r=e.onClick,t=n.id,s=n.img,u=n.make,m=n.model,h=n.year,j=n.rentalPrice,v=n.address,g=n.type,N=n.accessories,b=n.fuelConsumption,y=n.engineSize,k=n.description,Z=n.functionalities,w=n.rentalConditions,C=n.mileage,P=String(C)[0]+","+String(C).slice(1),L=null===v||void 0===v?void 0:v.split(",").slice(1);return(0,i.jsxs)("div",{className:"w-[541px] p-[40px] flex flex-col gap-y-[24px] absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] bg-light-prime rounded-3xl",children:[(0,i.jsx)(x,{onClick:r}),(0,i.jsx)("img",{src:s,alt:m,className:"rounded-[14px] h-[248px]"}),(0,i.jsxs)(f,{className:"mb-[14px]",children:[(0,i.jsxs)(o,{className:"text-[18px]",children:[u," ",m.length<8&&(0,i.jsx)("span",{className:"text-primary",children:m}),","," ",h]}),(0,i.jsxs)("div",{className:"flex flex-wrap w-[277px]",children:[null===L||void 0===L?void 0:L.map((function(e){return(0,i.jsx)(d,{children:e},e)})),(0,i.jsxs)(d,{children:["Id: ",t]}),(0,i.jsxs)(d,{children:["Year: ",h]}),(0,i.jsxs)(d,{children:["Type: ",g]}),(0,i.jsxs)(d,{children:["Fuel Consumption: ",b]}),(0,i.jsxs)(d,{children:["Engine Size: ",y]})]})]}),(0,i.jsx)("p",{children:k}),(0,i.jsxs)(f,{children:[(0,i.jsx)(o,{className:"text-sm",children:"Accessories and functionalities:"}),(0,i.jsx)("div",{className:"flex flex-wrap",children:[].concat((0,a.Z)(N),(0,a.Z)(Z)).map((function(e){return(0,i.jsx)(d,{children:e},e)}))})]}),(0,i.jsxs)(f,{className:"flex-wrap",children:[(0,i.jsx)(o,{className:"text-sm",children:"Rental Conditions:"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-[8px]",children:[w.split(/(?=[A-Z])/).map((function(e){return(0,i.jsx)(p,{children:e},e)})),(0,i.jsxs)(p,{className:"font-secondary",children:["Mileage:"," ",(0,i.jsx)(c,{className:"font-semibold",children:j})]}),(0,i.jsxs)(p,{className:"font-secondary",children:["Price:"," ",(0,i.jsx)(c,{className:"font-semibold",children:C&&P})]})]})]}),(0,i.jsx)(l.Z,{className:"w-[168px]",children:(0,i.jsx)("a",{href:"tel:+380730000000",children:"Rental car"})})]})},h=function(e){var n=e.isFavorite;return(0,i.jsx)("svg",{className:"fill-none stroke-light-prime w-[18px] h-[18px] hover:scale-125 transition ease-in duration-150 active:scale-100 ".concat(n?"fill-primary stroke-primary":null),children:(0,i.jsx)("use",{href:u+"#heart"})})},j=r(5196),v=r(9530),g=r(4970),N=function(e){var n=e.data,r=(0,s.I0)(),u=-1!==(0,s.v9)(g.Tc).findIndex((function(e){return e.id===n.id})),x=(0,t.useContext)(j.t),f=n.id,p=n.img,N=n.make,b=n.model,y=n.year,k=n.rentalPrice,Z=n.address,w=n.type,C=n.rentalCompany,P=[].concat((0,a.Z)(Z.split(",").splice(1)),[C,w,b,f]);return(0,i.jsxs)("div",{className:"w-[274px]",children:[(0,i.jsxs)("div",{className:"mb-7",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:p,alt:N,className:"h-cardImg rounded-[14px] mb-[14px]"}),(0,i.jsx)("button",{onClick:function(){r((0,v._p)(n))},type:"button",className:"absolute top-[14px] right-[14px]",children:(0,i.jsx)(h,{isFavorite:u})})]}),(0,i.jsxs)(o,{className:"flex justify-between mb-[8px]",children:[(0,i.jsxs)("div",{children:[N," ",b.length<8&&(0,i.jsx)(c,{children:b}),","," ",y]})," ",(0,i.jsx)("span",{children:k})]}),(0,i.jsx)("div",{className:"flex flex-wrap",children:P.map((function(e,n){return(0,i.jsx)(d,{children:e},n)}))})]}),(0,i.jsx)(l.Z,{onClick:function(){return x((0,i.jsx)(m,{data:n,onClick:function(){return x()}}))},className:"w-full",children:"Learn more"})]})},b=function(e){var n=e.error,r=e.cards;return(0,i.jsxs)("div",{className:"flex gap-x-[29px] gap-y-[50px] w-container mx-auto flex-wrap",children:[r&&r.map((function(e,n){return(0,i.jsx)(N,{data:e},n)})),n&&(0,i.jsxs)("div",{children:["Something went wrong! ",(0,i.jsx)("br",{})," ",n]})]})}},5063:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var a=r(1087),t=r(2791),s=r(9434),i=r(4970),c=r(1778),l=function(e){return e.root.error},o=function(e){return e.root.isLoading},d=r(3433),u=r(1413),x=function(e,n){var r=e.filter((function(e){return e.mileage<Number(n.to||"10000")&&e.mileage>Number(n.from||"0")}));return delete n.to,delete n.from,r},f=function(e,n){var r=e.filter((function(e){return e.make===n.brand}));return delete n.brand,r},p=function(e,n){var r=e.filter((function(e){return Number(e.rentalPrice.slice(1))<=Number(n.price)}));return delete n.price,r},m=r(9530),h=r(1134),j=r(4925),v=r(3329),g=["children","className","register"],N=function(e){var n=e.children,r=e.className,a=e.register,t=(0,j.Z)(e,g);return(0,v.jsx)("select",(0,u.Z)((0,u.Z)((0,u.Z)({},a),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] appearance-none bg-select bg-no-repeat ".concat(r)},t),{},{children:n}))},b=r(9439),y=function(e){var n=e.children,r=e.className,a=void 0===r?"":r,s=e.register,i=(0,t.useState)(""),c=(0,b.Z)(i,2),l=c[0],o=c[1];return(0,v.jsxs)("div",{className:"relative text-dark-100 font-medium",children:[(0,v.jsx)("input",(0,u.Z)((0,u.Z)({},s),{},{type:"text",className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] w-[160px] ".concat(a),onChange:function(e){var n=e.target.value.replace(/\D/g,"");n.length>3&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,",")),o(n)},value:l})),(0,v.jsx)("span",{className:"absolute left-[18px] top-[50%] translate-y-[-50%]",children:n})]})},k=function(e){var n=e.children,r=e.className,a=void 0===r?"":r;return(0,v.jsx)("label",{className:"flex flex-col gap-[8px] text-gray-100 ".concat(a),children:n})},Z=r(212),w=function(){var e=(0,s.I0)(),n=(0,s.v9)(i.oL),r=(0,s.v9)(i.uP),a=(0,h.cI)(),t=a.register,c=a.handleSubmit;return(0,v.jsxs)("form",{className:"flex gap-[18px] items-end justify-center mb-[50px] mx-auto",children:[(0,v.jsxs)(k,{children:["Car brand",(0,v.jsxs)(N,{register:t("brand"),className:"w-[224px] bg-[180px]",children:[(0,v.jsx)("option",{value:"",children:"Enter the text"}),n.map((function(e){return(0,v.jsx)("option",{value:e,children:e},e)}))]})]}),(0,v.jsxs)(k,{children:["Price/ 1 hour",(0,v.jsxs)(N,{register:t("price"),className:"w-[125px] bg-[80px]",children:[(0,v.jsx)("option",{value:"",children:"To: "}),null===r||void 0===r?void 0:r.map((function(e){return(0,v.jsx)("option",{value:e,children:e},e)}))]})]}),(0,v.jsxs)(k,{className:"relative",children:["Car mileage / km",(0,v.jsxs)("div",{className:"flex",children:[(0,v.jsx)(y,{className:"rounded-e-none pl-[65px]",register:t("from"),children:"From:"}),(0,v.jsx)("span",{className:"after:absolute after:content-[''] after:inline-block after:w-[1px] after:h-[48px] after:bg-gray-20 after:z-10 after:bottom-[0px]"}),(0,v.jsx)(y,{className:"rounded-s-none pl-[45px]",register:t("to"),children:"To:"})]})]}),(0,v.jsx)(Z.Z,{onClick:c((function(n){return e((0,m.rr)(n))})),type:"button",className:"w-[136px] h-[48px]",children:"Search"})]})},C=r(6117),P=["children","className"],L=function(e){var n=e.children,r=e.className,a=void 0===r?"":r,t=(0,j.Z)(e,P);return(0,v.jsx)("button",(0,u.Z)((0,u.Z)({type:"button",className:"bg:none text-primary text-base underline font-medium active:text-secondary block mx-auto mt-[50px] ".concat(a)},t),{},{children:n}))},I=function(e){var n=e.className;return(0,v.jsx)("span",{className:"absolute w-auto left-0 top-0 bottom-0 origin-left transition-transform ease duration-200 bg-secondary ".concat(n)})},S=function(e){var n=e.className;return(0,v.jsxs)("span",{className:"relative overflow-hidden h-2 block z-0 bg-gray-100 ".concat(n),children:[(0,v.jsx)(I,{className:"animate-mainLoader"}),(0,v.jsx)(I,{className:"animate-subLoader"})]})},T=function(){var e=function(){var e=(0,s.I0)(),n=(0,s.v9)(i.mT),r=(0,s.v9)(l),a=(0,s.v9)(o),d=(0,s.v9)(i.Zp);return(0,t.useEffect)((function(){e((0,c.h)(d))}),[e,d]),{error:r,isLoading:a,cards:n}}(),n=e.error,r=e.isLoading,h=e.cards,j=function(){var e=(0,s.I0)();return{isNoMoreData:(0,s.v9)(i.A),onClick:function(){e((0,m.bh)())}}}(),g=j.onClick,N=j.isNoMoreData,b=function(e){var n=(0,s.v9)(i.mj),r=(0,u.Z)({},n),a=[];if(Object.values(n).every((function(e){return""===e})))return{data:a=e};for(var t in r)if(r[t]){var c,l,o;r.brand&&(c=a).push.apply(c,(0,d.Z)(f(e,r))),r.price&&(l=a).push.apply(l,(0,d.Z)(p(e,r))),(r.to||r.from)&&(o=a).push.apply(o,(0,d.Z)(x(e,r)))}return{data:a.filter((function(e,n,r){return r.indexOf(e)===n}))}}(h),y=b.data;return(0,v.jsxs)("section",{className:"container page__section",children:[(0,v.jsx)(a.rU,{to:"/favorites",children:"To favorites"}),r?(0,v.jsx)(S,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(w,{}),(0,v.jsx)(C.Z,{error:n,cards:y}),!N&&(0,v.jsx)(L,{onClick:g,className:"block mx-auto",children:"Load more"})]})]})}},4970:function(e,n,r){r.d(n,{A:function(){return o},Tc:function(){return i},Zp:function(){return l},mT:function(){return s},mj:function(){return c},oL:function(){return d},uP:function(){return u}});var a=r(3433),t=r(6916),s=function(e){return e.cards.data},i=function(e){return e.cards.favorites},c=function(e){return e.cards.filters},l=function(e){return e.cards.page},o=function(e){return e.cards.isNoMoreData},d=(0,t.P1)([s],(function(e){return e.map((function(e){return e.make})).filter((function(e,n,r){return n===r.indexOf(e)}))})),u=(0,t.P1)([s],(function(e){var n=Math.max.apply(Math,(0,a.Z)(e.map((function(e){return e.rentalPrice.slice(1)}))));if(n!==-1/0)return(0,a.Z)(Array(Math.ceil(n/10)).keys()).map((function(e){return 10*(e+1)}))}));(0,t.P1)([s,c],(function(e,n){}))}}]);
//# sourceMappingURL=63.c50c5ac2.chunk.js.map