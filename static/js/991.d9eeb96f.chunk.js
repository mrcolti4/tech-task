"use strict";(self.webpackChunktech_task=self.webpackChunktech_task||[]).push([[991],{212:function(e,n,r){var i=r(1413),a=r(4925),s=(r(2791),r(3329)),t=["children","className"];n.Z=function(e){var n=e.children,r=e.className,l=(0,a.Z)(e,t);return(0,s.jsx)("button",(0,i.Z)((0,i.Z)({className:"bg-primary text-light-prime py-3 rounded-xl font-semibold hover:bg-secondary transition ease-in duration-150 ".concat(r)},l),{},{children:n}))}},6117:function(e,n,r){r.d(n,{Z:function(){return b}});var i=r(3433),a=r(2791),s=r(3329),t=function(e){var n=e.children,r=e.className,i=void 0===r?"":r;return(0,s.jsx)("span",{className:"text-primary ".concat(i),children:n})},l=r(212),c=function(e){var n=e.children,r=e.className;return(0,s.jsx)("h3",{className:"text-base text-dark-100 font-medium ".concat(r),children:n})},o=function(e){var n=e.children;return(0,s.jsx)("span",{className:"text-tags text-dark-50 after:content-[''] after:block after:w-px after:h-[16px] after:bg-dark-10 after:mx-[6px] last:after:hidden flex items-center",children:n})};var d=r.p+"static/media/sprite.58d724df96799ce4f52b47595d3883ff.svg",u=function(e){var n=e.onClick;return(0,s.jsx)("button",{onClick:n,className:"transition duration-150 ease-in hover:scale-125 active:scale-100 flex justify-center items-center w-[24px] h-[24px] rounded-[50%] absolute top-4 right-4",children:(0,s.jsx)("svg",{className:"stroke-dark-100 w-[24px] h-[24px]",children:(0,s.jsx)("use",{href:d+"#close"})})})},x=function(e){var n=e.children,r=e.className;return(0,s.jsx)("div",{className:"flex flex-col gap-[8px] ".concat(r),children:n})},p=function(e){var n=e.children,r=e.className,i=void 0===r?"":r;return(0,s.jsx)("span",{className:"bg-light-semi text-dark-secondary text-xs leading-[18px] py-[7px] px-[14px] rounded-[35px] ".concat(i),children:n})},m=function(e){var n=e.data,r=e.onClick,a=n.address,d=null===a||void 0===a?void 0:a.split(",").slice(1);return(0,s.jsxs)("div",{className:"w-[541px] p-[40px] flex flex-col gap-y-[24px] absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] bg-light-prime rounded-3xl",children:[(0,s.jsx)(u,{onClick:r}),(0,s.jsx)("img",{src:null===n||void 0===n?void 0:n.img,alt:null===n||void 0===n?void 0:n.model,className:"rounded-[14px]"}),(0,s.jsxs)(x,{className:"mb-[14px]",children:[(0,s.jsxs)(c,{className:"text-[18px]",children:[null===n||void 0===n?void 0:n.make," ",(null===n||void 0===n?void 0:n.model.length)<8&&(0,s.jsx)("span",{className:"text-primary",children:null===n||void 0===n?void 0:n.model}),", ",null===n||void 0===n?void 0:n.year]}),(0,s.jsxs)("div",{className:"flex flex-wrap w-[277px]",children:[null===d||void 0===d?void 0:d.map((function(e){return(0,s.jsx)(o,{children:e},e)})),(0,s.jsxs)(o,{children:["Id: ",null===n||void 0===n?void 0:n.id]}),(0,s.jsxs)(o,{children:["Year: ",null===n||void 0===n?void 0:n.year]}),(0,s.jsxs)(o,{children:["Type: ",null===n||void 0===n?void 0:n.type]}),(0,s.jsxs)(o,{children:["Fuel Consumption: ",null===n||void 0===n?void 0:n.fuelConsumption]}),(0,s.jsxs)(o,{children:["Engine Size: ",null===n||void 0===n?void 0:n.engineSize]})]})]}),(0,s.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),(0,s.jsxs)(x,{children:[(0,s.jsx)(c,{className:"text-sm",children:"Accessories and functionalities:"}),(0,s.jsx)("div",{className:"flex flex-wrap",children:[].concat((0,i.Z)(null===n||void 0===n?void 0:n.accessories),(0,i.Z)(null===n||void 0===n?void 0:n.functionalities)).map((function(e){return(0,s.jsx)(o,{children:e},e)}))})]}),(0,s.jsxs)(x,{className:"flex-wrap",children:[(0,s.jsx)(c,{className:"text-sm",children:"Rental Conditions:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-[8px]",children:[null===n||void 0===n?void 0:n.rentalConditions.split(/(?=[A-Z])/).map((function(e){return(0,s.jsx)(p,{children:e},e)})),(0,s.jsxs)(p,{className:"font-secondary",children:["Mileage:"," ",(0,s.jsx)(t,{className:"font-semibold",children:null===n||void 0===n?void 0:n.rentalPrice})]}),(0,s.jsxs)(p,{className:"font-secondary",children:["Price:"," ",(0,s.jsx)(t,{className:"font-semibold",children:null===n||void 0===n?void 0:n.mileage.toLocaleString()})]})]})]}),(0,s.jsx)(l.Z,{className:"w-[168px]",children:(0,s.jsx)("a",{href:"tel:+380730000000",children:"Rental car"})})]})},f=function(e){var n=e.isFavorite;return(0,s.jsx)("svg",{className:"fill-none stroke-light-prime w-[18px] h-[18px] hover:scale-125 transition ease-in duration-150 active:scale-100 ".concat(n?"fill-primary stroke-primary":null),children:(0,s.jsx)("use",{href:d+"#heart"})})},v=r(5196),h=r(9434),j=r(9530),g=r(4970),N=function(e){var n=e.data,r=(0,h.I0)(),t=-1!==(0,h.v9)(g.Tc).findIndex((function(e){return e.id===n.id})),d=(0,a.useContext)(v.t),u=[].concat((0,i.Z)(null===n||void 0===n?void 0:n.address.split(",").splice(1)),[null===n||void 0===n?void 0:n.rentalCompany,null===n||void 0===n?void 0:n.type,null===n||void 0===n?void 0:n.model,null===n||void 0===n?void 0:n.id]);return(0,s.jsxs)("div",{className:"w-[274px]",children:[(0,s.jsxs)("div",{className:"mb-7",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:null===n||void 0===n?void 0:n.img,alt:null===n||void 0===n?void 0:n.make,className:"h-cardImg rounded-[14px] mb-[14px]"}),(0,s.jsx)("button",{onClick:function(){r((0,j._p)(n))},type:"button",className:"absolute top-[14px] right-[14px]",children:(0,s.jsx)(f,{isFavorite:t})})]}),(0,s.jsxs)(c,{className:"flex justify-between mb-[8px]",children:[(0,s.jsxs)("div",{children:[null===n||void 0===n?void 0:n.make," ",(null===n||void 0===n?void 0:n.model.length)<8&&(0,s.jsx)("span",{className:"text-primary",children:null===n||void 0===n?void 0:n.model}),", ",null===n||void 0===n?void 0:n.year]})," ",(0,s.jsx)("span",{children:null===n||void 0===n?void 0:n.rentalPrice})]}),(0,s.jsx)("div",{className:"flex flex-wrap",children:u.map((function(e,n){return(0,s.jsx)(o,{children:e},n)}))})]}),(0,s.jsx)(l.Z,{onClick:function(){return d((0,s.jsx)(m,{data:n,onClick:function(){return d()}}))},className:"w-full",children:"Learn more"})]})},b=function(e){var n=e.error,r=e.isLoading,i=e.cards;return(0,s.jsxs)("div",{className:"flex gap-x-[29px] gap-y-[50px] w-container mx-auto flex-wrap",children:[r&&"Loading...",i&&i.map((function(e,n){return(0,s.jsx)(N,{data:e},n)})),n&&(0,s.jsxs)("div",{children:["Something went wrong! ",(0,s.jsx)("br",{})," error"]})]})}},3991:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var i=r(1087),a=r(2791),s=r(9434),t=r(4970),l=r(1778),c=function(e){return e.root.error},o=function(e){return e.root.isLoading},d=r(3433),u=r(1413),x=r(9439),p=function(e,n){var r=e.filter((function(e){return e.mileage<Number(n.toMileage||"10000")&&e.mileage>Number(n.fromMileage||"0")}));return delete n.toMileage,delete n.fromMileage,r},m=function(e,n){var r=e.filter((function(e){return e.make===n.brand}));return delete n.brand,r},f=function(e,n){var r=e.filter((function(e){return Number(e.rentalPrice.slice(1))>=Number(n.price)}));return delete n.price,r},v=r(9530),h=r(1134),j=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Chrysler","Kia","Land"]'),g=r(4925),N=r(3329),b=["children","className","register"],y=function(e){var n=e.children,r=e.className,i=e.register,a=(0,g.Z)(e,b);return(0,N.jsx)("select",(0,u.Z)((0,u.Z)((0,u.Z)({},i),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] appearance-none bg-select bg-no-repeat ".concat(r)},a),{},{children:n}))},k=["className","register"],Z=function(e){var n=e.className,r=void 0===n?"":n,i=e.register,a=(0,g.Z)(e,k);return(0,N.jsx)("input",(0,u.Z)((0,u.Z)({},i),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] w-[160px] ".concat(r)},a))},w=function(e){var n=e.children,r=e.className,i=void 0===r?"":r;return(0,N.jsx)("label",{className:"flex flex-col gap-[8px] ".concat(i),children:n})},C=r(212),M=function(e){for(var n=e.setFilters,r=(0,h.cI)(),i=r.register,a=r.handleSubmit,s=[],t=10;t<500;t+=10)s.push(t);return(0,N.jsxs)("form",{className:"flex gap-[18px] items-end justify-center mb-[50px] mx-auto",children:[(0,N.jsxs)(w,{children:["Car brand",(0,N.jsxs)(y,{register:i("brand"),className:"w-[224px] bg-[180px]",children:[(0,N.jsx)("option",{value:"",children:"Enter the text"}),j.map((function(e){return(0,N.jsx)("option",{value:e,children:e},e)}))]})]}),(0,N.jsxs)(w,{children:["Price/ 1 hour",(0,N.jsxs)(y,{register:i("price"),className:"w-[125px] bg-[80px]",children:[(0,N.jsx)("option",{value:"",children:"To: "}),s.map((function(e){return(0,N.jsx)("option",{value:e,children:e},e)}))]})]}),(0,N.jsxs)(w,{className:"relative",children:["Car mileage / km",(0,N.jsxs)("div",{children:[(0,N.jsx)(Z,{className:"rounded-e-none",placeholder:"From: ",type:"number",pattern:"[0-9]*",register:i("fromMileage")}),(0,N.jsx)("span",{className:"after:absolute after:content-[''] after:inline-block after:w-[1px] after:h-[52px] after:bg-gray-20 after:bottom-[0px]"}),(0,N.jsx)(Z,{className:"rounded-s-none",placeholder:"To: ",type:"number",pattern:"[0-9]*",register:i("toMileage")})]})]}),(0,N.jsx)(C.Z,{onClick:a((function(e){return n(e)})),type:"button",className:"w-[136px] h-[48px]",children:"Search"})]})},L=r(6117),F=["children","className"],I=function(e){var n=e.children,r=e.className,i=void 0===r?"":r,a=(0,g.Z)(e,F);return(0,N.jsx)("button",(0,u.Z)((0,u.Z)({type:"button",className:"bg:none text-primary text-base underline font-medium active:text-secondary block mx-auto mt-[50px] ".concat(i)},a),{},{children:n}))},S=function(){var e=function(){var e=(0,s.I0)(),n=(0,s.v9)(t.mT),r=(0,s.v9)(c),i=(0,s.v9)(o),d=(0,s.v9)(t.Zp);return(0,a.useEffect)((function(){e((0,l.h)(d))}),[e,d]),{error:r,isLoading:i,cards:n}}(),n=e.error,r=e.isLoading,h=e.cards,j=function(){var e=(0,s.I0)();return{isNoMoreData:(0,s.v9)(t.A),onClick:function(){e((0,v.bh)())}}}(),g=j.onClick,b=j.isNoMoreData,y=function(e){var n=(0,a.useState)({}),r=(0,x.Z)(n,2),i=r[0],s=r[1],t=(0,u.Z)({},i),l=[];if(Object.values(i).every((function(e){return""===e})))return{data:l=e,filters:i,setFilters:s};for(var c in t)if(i[c]){var o,v,h;i.brand&&(o=l).push.apply(o,(0,d.Z)(m(e,t))),i.price&&(v=l).push.apply(v,(0,d.Z)(f(e,t))),(i.toMileage||i.fromMileage)&&(h=l).push.apply(h,(0,d.Z)(p(e,t)))}return{data:l.filter((function(e,n,r){return r.indexOf(e)===n})),filters:i,setFilters:s}}(h),k=y.data,Z=y.filters,w=y.setFilters;return(0,N.jsxs)("section",{className:"container page__section",children:[(0,N.jsx)(i.rU,{to:"/favorites",children:"To favorites"}),(0,N.jsx)(M,{filters:Z,setFilters:w}),(0,N.jsx)(L.Z,{error:n,isLoading:r,cards:k,onClick:g,isNoMoreData:b}),!b&&(0,N.jsx)(I,{onClick:g,className:"block mx-auto",children:"Load more"})]})}},4970:function(e,n,r){r.d(n,{A:function(){return t},Tc:function(){return a},Zp:function(){return s},mT:function(){return i}});var i=function(e){return e.cards.data},a=function(e){return e.cards.favorites},s=function(e){return e.cards.page},t=function(e){return e.cards.isNoMoreData}}}]);
//# sourceMappingURL=991.d9eeb96f.chunk.js.map