"use strict";(self.webpackChunktech_task=self.webpackChunktech_task||[]).push([[11],{6011:function(e,n,r){r.r(n),r.d(n,{default:function(){return J}});var i=r(1134),a=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Chrysler","Kia","Land"]'),s=r(1413),t=r(4925),l=r(2791),c=r(184),o=["children","className","register"],d=function(e){var n=e.children,r=e.className,i=e.register,a=(0,t.Z)(e,o);return(0,c.jsx)("select",(0,s.Z)((0,s.Z)((0,s.Z)({},i),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] appearance-none bg-select bg-no-repeat ".concat(r)},a),{},{children:n}))},u=["className","register"],x=function(e){var n=e.className,r=void 0===n?"":n,i=e.register,a=(0,t.Z)(e,u);return(0,c.jsx)("input",(0,s.Z)((0,s.Z)({},i),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] w-[160px] ".concat(r)},a))},p=function(e){var n=e.children,r=e.className,i=void 0===r?"":r;return(0,c.jsx)("label",{className:"flex flex-col gap-[8px] ".concat(i),children:n})},m=["children","className"],v=function(e){var n=e.children,r=e.className,i=(0,t.Z)(e,m);return(0,c.jsx)("button",(0,s.Z)((0,s.Z)({className:"bg-primary text-light-prime py-3 rounded-xl font-semibold hover:bg-secondary transition ease-in duration-150 ".concat(r)},i),{},{children:n}))},f=function(e){for(var n=e.setFilters,r=(0,i.cI)(),s=r.register,t=r.handleSubmit,l=[],o=10;o<500;o+=10)l.push(o);return(0,c.jsxs)("form",{className:"flex gap-[18px] items-end justify-center mb-[50px] mx-auto",children:[(0,c.jsxs)(p,{children:["Car brand",(0,c.jsxs)(d,{register:s("brand"),className:"w-[224px] bg-[180px]",children:[(0,c.jsx)("option",{value:"",children:"Enter the text"}),a.map((function(e){return(0,c.jsx)("option",{value:e,children:e},e)}))]})]}),(0,c.jsxs)(p,{children:["Price/ 1 hour",(0,c.jsxs)(d,{register:s("price"),className:"w-[125px] bg-[80px]",children:[(0,c.jsx)("option",{value:"",children:"To: "}),l.map((function(e){return(0,c.jsx)("option",{value:e,children:e},e)}))]})]}),(0,c.jsxs)(p,{className:"relative",children:["Car mileage / km",(0,c.jsxs)("div",{children:[(0,c.jsx)(x,{className:"rounded-e-none",placeholder:"From: ",type:"number",pattern:"[0-9]*",register:s("fromMileage")}),(0,c.jsx)("span",{className:"after:absolute after:content-[''] after:inline-block after:w-[1px] after:h-[52px] after:bg-gray-20 after:bottom-[0px]"}),(0,c.jsx)(x,{className:"rounded-s-none",placeholder:"To: ",type:"number",pattern:"[0-9]*",register:s("toMileage")})]})]}),(0,c.jsx)(v,{onClick:t((function(e){return n(e)})),type:"button",className:"w-[136px] h-[48px]",children:"Search"})]})},h=r(3433),j=r(9439),g=function(e){var n=e.children,r=e.className;return(0,c.jsx)("h3",{className:"text-base text-dark-100 font-medium ".concat(r),children:n})},N=function(e){var n=e.children;return(0,c.jsx)("span",{className:"text-tags text-dark-50 after:content-[''] after:block after:w-px after:h-[16px] after:bg-dark-10 after:mx-[6px] last:after:hidden flex items-center",children:n})};var b=r.p+"static/media/sprite.58d724df96799ce4f52b47595d3883ff.svg",y=function(e){var n=e.isFavorite;return(0,c.jsx)("svg",{className:"fill-none stroke-light-prime w-[18px] h-[18px] hover:scale-125 transition ease-in duration-150 active:scale-100 ".concat(n?"fill-primary stroke-primary":null),children:(0,c.jsx)("use",{href:b+"#heart"})})},k=function(e){var n=e.children,r=e.className,i=void 0===r?"":r;return(0,c.jsx)("span",{className:"text-primary ".concat(i),children:n})},w=function(e){var n=e.onClick;return(0,c.jsx)("button",{onClick:n,className:"transition duration-150 ease-in hover:scale-125 active:scale-100 flex justify-center items-center w-[24px] h-[24px] rounded-[50%] absolute top-4 right-4",children:(0,c.jsx)("svg",{className:"stroke-dark-100 w-[24px] h-[24px]",children:(0,c.jsx)("use",{href:b+"#close"})})})},C=function(e){var n=e.children,r=e.className;return(0,c.jsx)("div",{className:"flex flex-col gap-[8px] ".concat(r),children:n})},Z=function(e){var n=e.children,r=e.className,i=void 0===r?"":r;return(0,c.jsx)("span",{className:"bg-light-semi text-dark-secondary text-xs leading-[18px] py-[7px] px-[14px] rounded-[35px] ".concat(i),children:n})},M=function(e){var n=e.data,r=n.address,i=null===r||void 0===r?void 0:r.split(",").slice(1);return(0,c.jsxs)("div",{className:"w-[541px] p-[40px] flex flex-col gap-y-[24px] relative",children:[(0,c.jsx)(w,{}),(0,c.jsx)("img",{src:null===n||void 0===n?void 0:n.img,alt:null===n||void 0===n?void 0:n.model,className:"rounded-[14px]"}),(0,c.jsxs)(C,{className:"mb-[14px]",children:[(0,c.jsxs)(g,{className:"text-[18px]",children:[null===n||void 0===n?void 0:n.make," ",(null===n||void 0===n?void 0:n.model.length)<8&&(0,c.jsx)("span",{className:"text-primary",children:null===n||void 0===n?void 0:n.model}),", ",null===n||void 0===n?void 0:n.year]}),(0,c.jsxs)("div",{className:"flex flex-wrap w-[277px]",children:[null===i||void 0===i?void 0:i.map((function(e){return(0,c.jsx)(N,{children:e})})),(0,c.jsxs)(N,{children:["Id: ",null===n||void 0===n?void 0:n.id]}),(0,c.jsxs)(N,{children:["Year: ",null===n||void 0===n?void 0:n.year]}),(0,c.jsxs)(N,{children:["Type: ",null===n||void 0===n?void 0:n.type]}),(0,c.jsxs)(N,{children:["Fuel Consumption: ",null===n||void 0===n?void 0:n.fuelConsumption]}),(0,c.jsxs)(N,{children:["Engine Size: ",null===n||void 0===n?void 0:n.engineSize]})]})]}),(0,c.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),(0,c.jsxs)(C,{children:[(0,c.jsx)(g,{className:"text-sm",children:"Accessories and functionalities:"}),(0,c.jsx)("div",{className:"flex flex-wrap",children:[].concat((0,h.Z)(null===n||void 0===n?void 0:n.accessories),(0,h.Z)(null===n||void 0===n?void 0:n.functionalities)).map((function(e){return(0,c.jsx)(N,{children:e})}))})]}),(0,c.jsxs)(C,{className:"flex-wrap",children:[(0,c.jsx)(g,{className:"text-sm",children:"Rental Conditions:"}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-[8px]",children:[null===n||void 0===n?void 0:n.rentalConditions.split(/(?=[A-Z])/).map((function(e){return(0,c.jsx)(Z,{children:e})})),(0,c.jsxs)(Z,{className:"font-secondary",children:["Mileage:"," ",(0,c.jsx)(k,{className:"font-semibold",children:null===n||void 0===n?void 0:n.rentalPrice})]}),(0,c.jsxs)(Z,{className:"font-secondary",children:["Price:"," ",(0,c.jsx)(k,{className:"font-semibold",children:null===n||void 0===n?void 0:n.mileage})]})]})]}),(0,c.jsx)(v,{className:"w-[168px]",children:"Rental car"})]})},L=r(5196),F=function(e){var n=e.data,r=(0,l.useState)(!1),i=(0,j.Z)(r,2),a=i[0],s=i[1],t=(0,l.useContext)(L.t),o=[].concat((0,h.Z)(null===n||void 0===n?void 0:n.address.split(",").splice(1)),[null===n||void 0===n?void 0:n.rentalCompany,null===n||void 0===n?void 0:n.type,null===n||void 0===n?void 0:n.model,null===n||void 0===n?void 0:n.id]);return(0,c.jsxs)("div",{className:"w-[274px]",children:[(0,c.jsxs)("div",{className:"mb-7",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("img",{src:null===n||void 0===n?void 0:n.img,alt:null===n||void 0===n?void 0:n.make,className:"h-cardImg rounded-[14px] mb-[14px]"}),(0,c.jsx)("button",{onClick:function(){return s(!a)},type:"button",className:"absolute top-[14px] right-[14px]",children:(0,c.jsx)(y,{isFavorite:a})})]}),(0,c.jsxs)(g,{className:"flex justify-between mb-[8px]",children:[(0,c.jsxs)("div",{children:[null===n||void 0===n?void 0:n.make," ",(null===n||void 0===n?void 0:n.model.length)<8&&(0,c.jsx)("span",{className:"text-primary",children:null===n||void 0===n?void 0:n.model}),", ",null===n||void 0===n?void 0:n.year]})," ",(0,c.jsx)("span",{children:null===n||void 0===n?void 0:n.rentalPrice})]}),(0,c.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e,n){return(0,c.jsx)(N,{children:e},n)}))})]}),(0,c.jsx)(v,{onClick:function(){return t((0,c.jsx)(M,{data:n}))},className:"w-full",children:"Learn more"})]})},S=["children"],I=function(e){var n=e.children,r=(0,t.Z)(e,S);return(0,c.jsx)("button",(0,s.Z)((0,s.Z)({type:"button",className:"bg:none text-primary text-base underline font-medium active:text-secondary inline-block mx-auto mt-[50px]"},r),{},{children:n}))},P=function(e){var n=e.error,r=e.isLoading,i=e.cards,a=e.onClick,s=e.isNoMoreData;return(0,c.jsxs)("div",{className:"flex gap-x-[29px] gap-y-[50px] w-container mx-auto flex-wrap",children:[r&&"Loading...",i&&i.map((function(e){return(0,c.jsx)(F,{data:e},e.id)})),n&&(0,c.jsxs)("div",{children:["Something went wrong! ",(0,c.jsx)("br",{})," error"]}),!s&&(0,c.jsx)(I,{onClick:a,children:"Load more"})]})},D=r(9434),A=function(e){return e.cards.data},B=function(e){return e.cards.page},E=function(e){return e.cards.isNoMoreData},z=r(1778),O=function(e){return e.root.error},R=function(e){return e.root.isLoading},T=function(e,n){var r=e.filter((function(e){return e.mileage<Number(n.toMileage||"10000")&&e.mileage>Number(n.fromMileage||"0")}));return delete n.toMileage,delete n.fromMileage,r},H=function(e,n){var r=e.filter((function(e){return e.make.includes(n.brand)}));return delete n.brand,r},_=function(e,n){var r=e.filter((function(e){return Number(e.rentalPrice.slice(1))>=Number(n.price)}));return delete n.price,r},G=r(9530),J=function(){var e=function(){var e=(0,D.I0)(),n=(0,D.v9)(A),r=(0,D.v9)(O),i=(0,D.v9)(R),a=(0,D.v9)(B);return(0,l.useEffect)((function(){e((0,z.h)(a))}),[e,a]),{error:r,isLoading:i,cards:n}}(),n=e.error,r=e.isLoading,i=e.cards,a=function(){var e=(0,D.I0)();return{isNoMoreData:(0,D.v9)(E),onClick:function(){e((0,G.bh)())}}}(),t=a.onClick,o=a.isNoMoreData,d=function(e){var n=(0,l.useState)({}),r=(0,j.Z)(n,2),i=r[0],a=r[1],t=(0,s.Z)({},i),c=[];if(Object.values(i).every((function(e){return""===e})))return{data:c=e,filters:i,setFilters:a};for(var o in t)if(i[o]){var d,u,x;i.brand&&(d=c).push.apply(d,(0,h.Z)(H(e,t))),i.price&&(u=c).push.apply(u,(0,h.Z)(_(e,t))),(i.toMileage||i.fromMileage)&&(x=c).push.apply(x,(0,h.Z)(T(e,t)))}return{data:c.filter((function(e,n,r){return r.indexOf(e)===n})),filters:i,setFilters:a}}(i),u=d.data,x=d.filters,p=d.setFilters;return(0,c.jsxs)("section",{className:"container",children:[(0,c.jsx)(f,{filters:x,setFilters:p}),(0,c.jsx)(P,{error:n,isLoading:r,cards:u,onClick:t,isNoMoreData:o})]})}}}]);
//# sourceMappingURL=11.b8088c84.chunk.js.map