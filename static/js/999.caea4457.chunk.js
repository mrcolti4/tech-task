"use strict";(self.webpackChunktech_task=self.webpackChunktech_task||[]).push([[999],{9999:function(e,r,n){n.r(r),n.d(r,{default:function(){return H}});var t=n(1134),a=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]'),i=n(1413),s=n(4925),l=n(2791),c=n(184),o=["children","className","register"],d=function(e){var r=e.children,n=e.className,t=e.register,a=(0,s.Z)(e,o);return(0,c.jsx)("select",(0,i.Z)((0,i.Z)((0,i.Z)({},t),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] appearance-none bg-select bg-no-repeat ".concat(n)},a),{},{children:r}))},u=["className","register"],x=function(e){var r=e.className,n=void 0===r?"":r,t=e.register,a=(0,s.Z)(e,u);return(0,c.jsx)("input",(0,i.Z)((0,i.Z)({},t),{},{className:"bg-light-cloud py-[12px] px-[18px] rounded-[14px] w-[160px] ".concat(n)},a))},p=function(e){var r=e.children,n=e.className,t=void 0===n?"":n;return(0,c.jsx)("label",{className:"flex flex-col gap-[8px] ".concat(t),children:r})},m=["children","className"],f=function(e){var r=e.children,n=e.className,t=(0,s.Z)(e,m);return(0,c.jsx)("button",(0,i.Z)((0,i.Z)({className:"bg-primary text-light-prime py-3 rounded-xl font-semibold hover:bg-secondary transition ease-in duration-150 ".concat(n)},t),{},{children:r}))},h=function(e){for(var r=e.setFilters,n=(0,t.cI)(),i=n.register,s=n.handleSubmit,l=[],o=10;o<500;o+=10)l.push(o);return(0,c.jsxs)("form",{className:"flex gap-[18px] items-end justify-center mb-[50px] mx-auto",children:[(0,c.jsxs)(p,{children:["Car brand",(0,c.jsxs)(d,{register:i("brand"),className:"w-[224px] bg-[180px]",children:[(0,c.jsx)("option",{value:"",children:"Enter the text"}),a.map((function(e){return(0,c.jsx)("option",{value:e,children:e})}))]})]}),(0,c.jsxs)(p,{children:["Price/ 1 hour",(0,c.jsxs)(d,{register:i("price"),className:"w-[125px] bg-[80px]",children:[(0,c.jsx)("option",{value:"",children:"To: "}),l.map((function(e){return(0,c.jsx)("option",{value:e,children:e})}))]})]}),(0,c.jsxs)(p,{className:"relative",children:["Car mileage / km",(0,c.jsxs)("div",{children:[(0,c.jsx)(x,{className:"rounded-e-none",placeholder:"From: ",type:"number",pattern:"[0-9]*",register:i("fromMileage")}),(0,c.jsx)("span",{className:"after:absolute after:content-[''] after:inline-block after:w-[1px] after:h-[52px] after:bg-gray-20 after:bottom-[0px]"}),(0,c.jsx)(x,{className:"rounded-s-none",placeholder:"To: ",type:"number",pattern:"[0-9]*",register:i("toMileage")})]})]}),(0,c.jsx)(f,{onClick:s((function(e){return r(e)})),type:"button",className:"w-[136px] h-[48px]",children:"Search"})]})},v=n(3433),g=n(9439),b=function(e){var r=e.children,n=e.className;return(0,c.jsx)("h3",{className:"text-base text-dark-100 font-medium ".concat(n),children:r})},j=function(e){var r=e.children;return(0,c.jsx)("span",{className:"text-tags text-dark-50 after:content-[''] after:block after:w-px after:h-[16px] after:bg-dark-10 after:mx-[6px] last:after:hidden flex items-center",children:r})};var N=n.p+"static/media/sprite.9eec0d6c74b650d83cd1a8db0634bb9b.svg",y=function(e){var r=e.isFavorite;return(0,c.jsx)("svg",{className:"fill-none stroke-light-prime w-[18px] h-[18px] hover:scale-125 transition ease-in duration-150 active:scale-100 ".concat(r?"fill-primary stroke-primary":null),children:(0,c.jsx)("use",{href:N+"#heart"})})},k=function(e){var r=e.data,n=(0,l.useState)(!1),t=(0,g.Z)(n,2),a=t[0],i=t[1],s=[].concat((0,v.Z)(null===r||void 0===r?void 0:r.address.split(",").splice(1)),[null===r||void 0===r?void 0:r.rentalCompany,null===r||void 0===r?void 0:r.type,null===r||void 0===r?void 0:r.model,null===r||void 0===r?void 0:r.id]);return(0,c.jsxs)("div",{className:"w-[274px]",children:[(0,c.jsxs)("div",{className:"mb-7",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("img",{src:null===r||void 0===r?void 0:r.img,alt:null===r||void 0===r?void 0:r.make,className:"h-cardImg rounded-[14px] mb-[14px]"}),(0,c.jsx)("button",{onClick:function(){return i(!a)},type:"button",className:"absolute top-[14px] right-[14px]",children:(0,c.jsx)(y,{isFavorite:a})})]}),(0,c.jsxs)(b,{className:"flex justify-between mb-[8px]",children:[(0,c.jsxs)("div",{children:[null===r||void 0===r?void 0:r.make," ",(null===r||void 0===r?void 0:r.model.length)<8&&(0,c.jsx)("span",{className:"text-primary",children:null===r||void 0===r?void 0:r.model}),", ",null===r||void 0===r?void 0:r.year]})," ",(0,c.jsx)("span",{children:null===r||void 0===r?void 0:r.rentalPrice})]}),(0,c.jsx)("div",{className:"flex flex-wrap",children:s.map((function(e,r){return(0,c.jsx)(j,{children:e},r)}))})]}),(0,c.jsx)(f,{className:"w-full",children:"Learn more"})]})},M=["children"],Z=function(e){var r=e.children,n=(0,s.Z)(e,M);return(0,c.jsx)("button",(0,i.Z)((0,i.Z)({type:"button",className:"bg:none text-primary text-base underline font-medium active:text-secondary inline-block mx-auto mt-[50px]"},n),{},{children:r}))},w=function(e){var r=e.error,n=e.isLoading,t=e.cards,a=e.onClick,i=e.isNoMoreData;return(0,c.jsxs)("div",{className:"flex gap-x-[29px] gap-y-[50px] w-container mx-auto flex-wrap",children:[n&&"Loading...",t&&t.map((function(e){return(0,c.jsx)(k,{data:e},e.id)})),r&&(0,c.jsxs)("div",{children:["Something went wrong! ",(0,c.jsx)("br",{})," error"]}),!i&&(0,c.jsx)(Z,{onClick:a,children:"Load more"})]})},C=n(9434),L=function(e){return e.cards.data},D=function(e){return e.cards.page},F=function(e){return e.cards.isNoMoreData},S=n(1778),I=function(e){return e.root.error},B=function(e){return e.root.isLoading},P=function(e,r){var n=e.filter((function(e){return e.mileage<Number(r.toMileage||"10000")&&e.mileage>Number(r.fromMileage||"0")}));return delete r.toMileage,delete r.fromMileage,n},E=function(e,r){var n=e.filter((function(e){return e.make.includes(r.brand)}));return delete r.brand,n},z=function(e,r){var n=e.filter((function(e){return Number(e.rentalPrice.slice(1))>=Number(r.price)}));return delete r.price,n},A=n(9530),H=function(){var e=function(){var e=(0,C.I0)(),r=(0,C.v9)(L),n=(0,C.v9)(I),t=(0,C.v9)(B),a=(0,C.v9)(D);return(0,l.useEffect)((function(){e((0,S.h)(a))}),[e,a]),{error:n,isLoading:t,cards:r}}(),r=e.error,n=e.isLoading,t=e.cards,a=function(){var e=(0,C.I0)();return{isNoMoreData:(0,C.v9)(F),onClick:function(){e((0,A.bh)())}}}(),s=a.onClick,o=a.isNoMoreData,d=function(e){var r=(0,l.useState)({}),n=(0,g.Z)(r,2),t=n[0],a=n[1],s=(0,i.Z)({},t),c=[];if(Object.values(t).every((function(e){return""===e})))return{filteredData:c=e,filters:t,setFilters:a};for(var o in s)if(t[o]){var d,u,x;t.brand&&(d=c).push.apply(d,(0,v.Z)(E(e,s))),t.price&&(u=c).push.apply(u,(0,v.Z)(z(e,s))),(t.toMileage||t.fromMileage)&&(x=c).push.apply(x,(0,v.Z)(P(e,s)))}return{filteredData:c,filters:t,setFilters:a}}(t),u=d.filteredData,x=d.filters,p=d.setFilters;return(0,c.jsxs)("section",{className:"container",children:[(0,c.jsx)(h,{filters:x,setFilters:p}),(0,c.jsx)(w,{error:r,isLoading:n,cards:u,onClick:s,isNoMoreData:o})]})}}}]);
//# sourceMappingURL=999.caea4457.chunk.js.map